%include "natives.blhasm"

	jmp main

errors:
	push -1
	native print_ptr
	halt

main:
	push 10		; [10]
	native alloc	; [addr]

	dup 0		; [addr, addr]
	push 0		; [addr, addr, 0]
	eq		; [addr, ?]
	jif errors	; [addr]

	dup 0		; [addr, addr]
	native print_ptr; [addr]

	native free	; []

	push 3.0	; [3.0]
	native print_f64; []

	halt
